<html>
    <head>
        <title>Image rotation</title>
        <style>
            /* #img{
                border: 2px solid blue;
                margin: auto;    
            } */
        </style>
        <script>
            var intervalVal;
            function init(){
                var ref = document.getElementById("img");
                document.addEventListener("keyup",game);
            }
            function game(){
                console.log(event.keyCode);
                if(event.keyCode==37) {
                var element = document.getElementById("img");
                element.style.left = parseInt(element.style.left) - 500 + 'px';
                }

                if(event.keyCode==39) {
                var element = document.getElementById("img");
                element.style.left = parseInt(element.style.left) + 500 + 'px';
                }

                if(event.keyCode==38) {
                var element = document.getElementById("img");
                element.style.top = parseInt(element.style.top) - 500 + 'px';
                }

                if(event.keyCode==40) {
                var element = document.getElementById("img");
                element.style.top = parseInt(element.style.top) + 500 + 'px';
                }

                if(event.keyCode==82)
                {
                    rot(1);
                }
                if(event.keyCode==83)
                {
                    rot(0);
                }
                function rot(n){
                    if(n==1){
                    var ref =  document.getElementById('img');
                    var x = 10;
                    var y = 10;
                    var ang = 10;
                    intervalVal = setInterval(function(){
                        x=x+10;
                        y=y+10;
                        ang=ang+20;
                        ref.style = "transform: translate("+x+'px'+','+y+'px);transform: rotate( "+ang+"deg)';
                        ref.style ="transform: rotate("+ang+"deg)";
                    },300)
                }
                    if(n==0)
                    {
                        clearInterval(intervalVal);
                    }
                }
                }
            
        </script>
    </head>
    <body onload="init()">
        <img id="img" src="images.jpeg" style="position:absolute;left:0; top:0;">
    </body>
</html>